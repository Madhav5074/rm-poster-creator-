<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Champions Club – Executive Luxe</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>

<style>
body { font-family:'Inter', sans-serif; background:#eef2f7; }
.container { max-width:550px; margin:auto; }
canvas { border-radius:22px; width:100%; box-shadow:0 30px 70px rgba(0,0,0,0.35); }
</style>
</head>

<body class="flex items-center justify-center min-h-screen p-6">

<div class="container bg-white p-8 rounded-3xl shadow-2xl">

<form id="posterForm" class="flex flex-col gap-4">

<h1 class="text-3xl font-bold text-center text-blue-900">
Champions Club – Executive Luxe
</h1>

<input type="file" id="rmPhoto" required class="border p-2 rounded">
<input type="text" id="rmName" placeholder="RM Name" required class="border p-2 rounded">

<select id="rmDesignation" required class="border p-2 rounded">
<option value="" disabled selected>Select Designation</option>
<option value="RM">RM</option>
<option value="PB">PB</option>
<option value="PBA">PBA</option>
<option value="Others">Others</option>
</select>

<input type="text" id="otherDesignation" placeholder="Enter Designation"
class="border p-2 rounded hidden">

<select id="nliType" required class="border p-2 rounded">
<option value="" disabled selected>Select Criteria</option>
<option value="NLI + LI Met">NLI + LI Met</option>
<option value="NLI Met">NLI Met</option>
</select>

<select id="clubLevel" required class="border p-2 rounded">
<option value="" disabled selected>Select Level</option>
<option value="Level 1">Level 1</option>
<option value="Level 2">Level 2</option>
</select>

<input type="text" id="branchName" placeholder="Branch Name" required class="border p-2 rounded">
<input type="text" id="clusterName" placeholder="Cluster Name" required class="border p-2 rounded">
<input type="text" id="premium" placeholder="Premium Amount" required class="border p-2 rounded">
<input type="text" id="productType" placeholder="Product Type" required class="border p-2 rounded">

<button type="submit" class="bg-blue-900 text-white p-3 rounded font-bold">
Generate Poster
</button>

</form>

<canvas id="posterCanvas" width="1080" height="1350" class="hidden mt-6"></canvas>

<button id="downloadBtn" class="hidden mt-4 bg-green-600 text-white p-3 rounded font-bold">
Download Poster
</button>

</div>

<script>

const canvas = document.getElementById("posterCanvas");
const ctx = canvas.getContext("2d");
const form = document.getElementById("posterForm");
const downloadBtn = document.getElementById("downloadBtn");

const rmPhoto = document.getElementById("rmPhoto");
const rmName = document.getElementById("rmName");
const rmDesignation = document.getElementById("rmDesignation");
const otherDesignation = document.getElementById("otherDesignation");
const nliType = document.getElementById("nliType");
const clubLevel = document.getElementById("clubLevel");
const branchName = document.getElementById("branchName");
const clusterName = document.getElementById("clusterName");
const premiumInput = document.getElementById("premium");
const productType = document.getElementById("productType");

let shimmerOffset = 0;

/* ₹ formatting */
premiumInput.addEventListener("input", function(){
let value=this.value.replace(/[^0-9]/g,'');
if(value){ this.value="₹"+Number(value).toLocaleString("en-IN"); }
else{ this.value=""; }
});

/* Others designation */
rmDesignation.addEventListener("change", function(){
if(this.value==="Others"){
otherDesignation.classList.remove("hidden");
otherDesignation.required=true;
}else{
otherDesignation.classList.add("hidden");
otherDesignation.required=false;
otherDesignation.value="";
}
});

form.addEventListener("submit", function(e){
e.preventDefault();

if(!rmPhoto.files[0]){
alert("Upload RM Photo");
return;
}

const reader=new FileReader();

reader.onload=function(ev){
const img=new Image();
img.onload=function(){

let designation = rmDesignation.value==="Others"
? otherDesignation.value
: rmDesignation.value;

drawPoster(img,{
rmName: rmName.value.toUpperCase(),
designation,
nli: nliType.value,
level: clubLevel.value,
branch: branchName.value,
cluster: clusterName.value,
premium: premiumInput.value,
product: productType.value
});

form.classList.add("hidden");
canvas.classList.remove("hidden");
downloadBtn.classList.remove("hidden");

};
img.src=ev.target.result;
};

reader.readAsDataURL(rmPhoto.files[0]);
});

function drawPoster(profile,data){

function render(){

ctx.clearRect(0,0,1080,1350);

/* Deep luxury background */
const bg = ctx.createLinearGradient(0,0,1080,1350);
bg.addColorStop(0,"#051421");
bg.addColorStop(0.5,"#0a2a46");
bg.addColorStop(1,"#020c18");
ctx.fillStyle=bg;
ctx.fillRect(0,0,1080,1350);

/* Vignette effect */
const vignette = ctx.createRadialGradient(540,675,200,540,675,900);
vignette.addColorStop(0,"rgba(0,0,0,0)");
vignette.addColorStop(1,"rgba(0,0,0,0.6)");
ctx.fillStyle=vignette;
ctx.fillRect(0,0,1080,1350);

/* Gold shimmer gradient */
const gold = ctx.createLinearGradient(shimmerOffset,0,shimmerOffset+300,0);
gold.addColorStop(0,"#FFD700");
gold.addColorStop(0.5,"#fff5b1");
gold.addColorStop(1,"#d4af37");

ctx.textAlign="center";

/* Outer Gold Border */
ctx.lineWidth=6;
ctx.strokeStyle="rgba(212,175,55,0.6)";
ctx.strokeRect(40,40,1000,1270);

/* Inner Thin Border */
ctx.lineWidth=2;
ctx.strokeStyle="rgba(255,215,0,0.4)";
ctx.strokeRect(60,60,960,1230);

/* Decorative corner flares */
ctx.fillStyle="rgba(255,215,0,0.5)";
ctx.fillRect(60,60,120,4);
ctx.fillRect(60,60,4,120);
ctx.fillRect(960,60,120,4);
ctx.fillRect(1076,60,-4,120);

/* Title */
let title = data.level==="Level 1"
? "BBH-Champions Club"
: "GHMD-Champions Club";

ctx.fillStyle=gold;
ctx.font="bold 78px Inter";
ctx.fillText(title,540,230);

/* Divider */
ctx.fillStyle="rgba(255,215,0,0.6)";
ctx.fillRect(240,260,600,3);

/* NLI */
ctx.fillStyle="#ffffff";
ctx.font="bold 46px Inter";
ctx.fillText(data.nli,540,315);

/* Profile Circle */
ctx.save();
ctx.beginPath();
ctx.arc(540,580,180,0,Math.PI*2);
ctx.clip();

let size=Math.min(profile.width,profile.height);
ctx.drawImage(profile,
(profile.width-size)/2,
(profile.height-size)/2,
size,size,
360,400,
360,360);
ctx.restore();

/* Double gold frame */
ctx.lineWidth=14;
ctx.strokeStyle=gold;
ctx.beginPath();
ctx.arc(540,580,180,0,Math.PI*2);
ctx.stroke();

ctx.lineWidth=3;
ctx.strokeStyle="rgba(255,215,0,0.5)";
ctx.beginPath();
ctx.arc(540,580,200,0,Math.PI*2);
ctx.stroke();

/* Name */
ctx.fillStyle=gold;
ctx.font="bold 58px Inter";
ctx.fillText(data.rmName,540,880);

/* Designation */
ctx.font="bold 38px Inter";
ctx.fillText("("+data.designation+")",540,925);

/* Branch */
ctx.fillStyle="#ffffff";
ctx.font="28px Inter";
ctx.fillText("Branch: "+data.branch+" | Cluster: "+data.cluster,540,980);

/* Premium Glass Card */
ctx.fillStyle="rgba(255,255,255,0.08)";
ctx.fillRect(260,1010,560,130);
ctx.strokeStyle="rgba(255,215,0,0.4)";
ctx.strokeRect(260,1010,560,130);

ctx.fillStyle=gold;
ctx.font="bold 92px Inter";
ctx.fillText(data.premium,540,1105);

/* Bottom Accent */
ctx.fillStyle="rgba(255,215,0,0.5)";
ctx.fillRect(340,1145,400,3);

/* Product */
ctx.fillStyle="#ffffff";
ctx.font="26px Inter";
ctx.fillText("Product: "+data.product,540,1195);

/* Shimmer movement */
shimmerOffset+=4;
if(shimmerOffset>1500) shimmerOffset=-300;

requestAnimationFrame(render);
}

render();
}

downloadBtn.addEventListener("click",function(){
const link=document.createElement("a");
link.download="Champions_Club_Executive_Luxe.png";
link.href=canvas.toDataURL("image/png");
link.click();
});

</script>

</body>
</html>